import{a as w,p as b}from"./auth.SZYyi0EM.js";import{n as g,D as k,o as c,c as d,a as o,z as y,b as l,y as $,t as u,I as j,B as z}from"./entry.MgUDxhFU.js";const C={class:"flex flex-col items-start justify-start mb-5"},B={class:"w-full h-[360px] bg-zinc-200 dark:bg-zinc-400 shadow-lg rounded-md relative"},S={class:"rounded-full hover:cursor-pointer shadow-xl h-[40px] w-[40px] bg-white flex flex-col items-center justify-center absolute right-[65px] bottom-[15px] z-10"},N={class:"rounded-full hover:cursor-pointer shadow-xl h-[40px] w-[40px] bg-white flex flex-col items-center justify-center absolute right-[15px] bottom-[15px] z-10"},V={key:0,class:"rounded-b-md h-[90px] w-full bg-white/75 p-3 flex flex-col justify-between items-start z-20 absolute bottom-0"},D={class:"w-full flex flex-row items-end justify-end"},I=o("div",{class:"w-full flex flex-row items-start"},null,-1),T={class:"w-full flex flex-row justify-between mt-2 px-2"},q={class:"text-neutral-900 dark:text-white text-lg"},A={class:"text-neutral-900 dark:text-white font-thin text-lg"},P={__name:"ProductCard",props:{product:{type:Object,required:!0}},setup(p){const s=w(),n=p,r=g({product:n.product,show_options:!1,snackbar:!1,snackbar_text:""});b();const f=e=>{j(`/shop/products/${e}`)},x=()=>{r.loading=!0,r.snackbar_text=`"${r.product.name}" - (${r.product.selected_option.description}) added to cart!`,r.snackbar=!0,r.loading=!1},_=e=>e/100,m=()=>{var e,t,a;return(a=(t=(e=s==null?void 0:s.user)==null?void 0:e.favorites)==null?void 0:t.products)==null?void 0:a.includes(n.product.id)},h=e=>{var t,a,i;(i=(a=(t=s==null?void 0:s.user)==null?void 0:t.favorites)==null?void 0:a.products)!=null&&i.includes(e.id)?s.user.favorites.products=s.user.favorites.products.filter(v=>v!==e.id):s.user.favorites.products.push(e.id),z(()=>{s.updateUser()})};return(e,t)=>{const a=k("font-awesome-icon");return c(),d("div",C,[o("div",B,[o("div",{class:"w-full h-full absolute rounded-md bg-cover bg-center z-0 cursor-pointer",style:y({backgroundImage:`url(${n.product.images[0].url})`}),onClick:t[0]||(t[0]=i=>f(n.product.id))},null,4),o("div",S,[l(a,{icon:[m()?"fas":"far","heart"],class:"text-red-500 hover:text-red-600",onClick:t[1]||(t[1]=i=>h(n.product))},null,8,["icon"])]),o("div",N,[l(a,{icon:["fas","cart-plus"],class:"text-blue-400 hover:text-blue-500",onClick:t[2]||(t[2]=i=>r.show_options=!0)})]),r.show_options?(c(),d("div",V,[o("div",D,[l(a,{icon:["fas","times"],class:"text-neutral-400 hover:text-neutral-500 cursor-pointer",onClick:t[3]||(t[3]=i=>r.show_options=!1)})]),I,o("div",{class:"w-full flex flex-row justify-between"},[o("button",{class:"btn-add_to_cart nsight-btn-primary my-1 py-1 w-full px-5 text-white shadow-xl rounded-md",onClick:x},"Add to cart")])])):$("",!0)]),o("div",T,[o("h2",q,u(n.product.item_data.name),1),o("h2",A,"$ "+u(_(n.product.item_data.variations[0].item_variation_data.price_money.amount)),1)])])}}};export{P as _};
