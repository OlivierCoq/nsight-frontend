import{E as q,n as S,q as a,o as n,s as u,w as e,b as t,t as m,a as l,F as j,c as h,x as z,v,d as x,y as E,_ as T,u as U}from"./entry.edFZpnpL.js";import{p as B,a as F}from"./auth.mQ8edLOI.js";import{d as L}from"./composables.PaokOPte.js";const P={class:"d-flex flex-column justify-space-between align-start w-100 h-100"},A={class:"fw-bold"},D={key:0},H={class:"my-2"},M={class:"d-flex flex-row w-100 h-100"},Q={class:"d-flex flex-row align-end justify-center"},R={__name:"CartCard",props:["product"],setup(p){const r=E();globalThis.$fetch=q.create({headers:{"Content-Type":"application/json","X-Authorization":r.apiSecret}});const o=S({product:p.product,snackbar:!1,snackbar_text:"",num_select:1,loading:!1});B();const k=()=>{o.loading=!0};return(N,s)=>{const d=a("v-img"),c=a("v-col"),b=a("v-spacer"),w=a("v-text-field"),g=a("v-progress-circular"),C=a("v-snackbar"),f=a("v-row"),V=a("font-awesome-icon");return n(),u(f,{class:"h-100 mb-5"},{default:e(()=>[t(c,{cols:"6",md:"3",lg:"3",xl:"3",class:"h-100"},{default:e(()=>[t(d,{src:o.product.image.url},null,8,["src"])]),_:1}),t(c,{cols:"6",md:"9",lg:"9",xl:"9",class:"h-100"},{default:e(()=>[t(f,{class:"h-100"},{default:e(()=>[t(c,{cols:"12",md:"6",lg:"6",xl:"6",class:"h-100"},{default:e(()=>[l("div",P,[l("h3",A,m(o.product.name),1),o.product.selected_options.length?(n(),h("span",D,[(n(!0),h(j,null,z(o.product.selected_options,(_,i)=>(n(),h("span",{key:i},m(_.group_name)+" - "+m(_.option_name),1))),128))])):v("",!0),l("span",H,m(o.product.price.formatted_with_symbol),1),t(b),t(f,null,{default:e(()=>[t(c,{style:{height:"10px"},class:"my-3"},{default:e(()=>[l("div",M,[t(w,{modelValue:o.product.quantity,"onUpdate:modelValue":s[0]||(s[0]=_=>o.product.quantity=_),style:{width:"100px !important"},label:"Qty",density:"compact",type:"number",disabled:o.loading},null,8,["modelValue","disabled"]),o.loading?(n(),u(g,{key:0,indeterminate:"",color:"error",size:"50",class:"mx-5",style:{"margin-top":"-3em"}})):v("",!0),t(C,{modelValue:o.snackbar,"onUpdate:modelValue":s[1]||(s[1]=_=>o.snackbar=_),timeout:3e3,top:!0,right:!0,location:"top","multi-line":!0,vertical:!0,color:"success"},{default:e(()=>[x(m(o.snackbar_text),1)]),_:1},8,["modelValue"])])]),_:1})]),_:1})])]),_:1}),t(c,{cols:"12",md:"6",lg:"6",xl:"6",class:"h-100"},{default:e(()=>[l("div",Q,[t(V,{icon:["fas","x"],cursor:"pointer",onClick:k})])]),_:1})]),_:1})]),_:1})]),_:1})}}},X={name:"Cart",setup(){const p=S({loading:!1,emptying:!1,checking_out:!1,snackbar:!1,snackbar_text:""}),r=F(),y=B();return{definePageMeta:L,state:p,auth:r,prodStore:y,checkout:async()=>{p.checking_out=!0},empty_cart:()=>{p.emptying=!0}}}},G=l("div",{class:"shop_header d-flex flex-row align-center justify-center p-5 my-5"},[l("h1",{class:"text-center"},"cart")],-1),I=l("hr",{class:"my-5"},null,-1),J=l("div",{class:"d-flex flex-row align-center justify-center h-100"},[l("p",null,"Looks like your cart's empty. Head over to our shop to see what we've got!")],-1),K={class:"w-100 d-flex flex-column align-end justify-end mb-5"},O={class:"d-flex flex-row align-center justify-start"},W={class:"d-flex flex-column align-center justify-center"};function Y(p,r,y,o,k,N){const s=a("v-col"),d=a("v-row"),c=a("v-container"),b=R,w=a("font-awesome-icon"),g=a("v-progress-circular"),C=a("v-snackbar"),f=a("v-btn"),V=a("v-card-text"),_=a("v-card");return n(),h("div",{id:"products",class:U(["overflow-auto",o.auth.user.preferences.dark_mode?"bg-dark":"bg-light"])},[t(_,{variant:"tonal",class:"h-100"},{default:e(()=>[t(V,null,{default:e(()=>[t(c,null,{default:e(()=>[t(d,{class:"overflow-auto"},{default:e(()=>[t(s,null,{default:e(()=>[t(c,{fluid:""},{default:e(()=>[t(d,null,{default:e(()=>[t(s,null,{default:e(()=>[G]),_:1})]),_:1}),I]),_:1})]),_:1})]),_:1}),t(d,null,{default:e(()=>[o.prodStore.cart.total_items?(n(),u(s,{key:0,cols:"12",sm:"12",md:"6",lg:"6",xl:"6"},{default:e(()=>[t(c,null,{default:e(()=>[(n(!0),h(j,null,z(o.prodStore.cart.line_items,i=>(n(),u(b,{key:i.id,product:i},null,8,["product"]))),128))]),_:1})]),_:1})):(n(),u(s,{key:1,cols:"12",sm:"12",md:"6",lg:"6",xl:"6"},{default:e(()=>[J]),_:1})),t(s,{cols:"12",sm:"12",md:"6",lg:"6",xl:"6"},{default:e(()=>[o.prodStore.cart.total_items?(n(),u(c,{key:0},{default:e(()=>[t(d,null,{default:e(()=>[t(s,null,{default:e(()=>[l("div",K,[l("p",{class:"text-uppercase fw-bold curser-pointer",onClick:r[0]||(r[0]=(...i)=>o.empty_cart&&o.empty_cart(...i))},[x(" Empty cart Â  "),t(w,{icon:["fas","x"],cursor:"pointer"})]),o.state.emptying?(n(),u(g,{key:0,indeterminate:"",color:"red",size:"90",class:"my-5 mx-5 position-absolute float-left",style:{top:"20em",left:"45%","z-index":"999"}})):v("",!0),t(C,{modelValue:o.state.snackbar,"onUpdate:modelValue":r[1]||(r[1]=i=>o.state.snackbar=i),timeout:3e3,top:!0,right:!0,location:"top","multi-line":!0,vertical:!0,color:"success"},{default:e(()=>[x(m(o.state.snackbar_text),1)]),_:1},8,["modelValue"])])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(s,null,{default:e(()=>[l("div",O,[l("h2",null,"subtotal: "+m(o.prodStore.cart.subtotal.formatted_with_symbol),1)])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(s,null,{default:e(()=>[l("div",W,[t(f,{color:"info",block:"",onClick:o.checkout,disabled:o.state.checking_out},{default:e(()=>[x(" checkout "),o.state.checking_out?(n(),u(g,{key:0,indeterminate:"",color:"white",size:"15",class:"mx-2"})):v("",!0)]),_:1},8,["onClick","disabled"])])]),_:1})]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],2)}const et=T(X,[["render",Y]]);export{et as default};
