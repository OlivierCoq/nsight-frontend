import{_ as V}from"./nuxt-link.nW5onUyc.js";import{_ as y,n as N,S as T,q as o,o as c,c as x,s as d,w as a,B as i,b as e,A as l,d as h,t as m,a as f,K as q,p as A,e as F,R as j}from"./entry.xkWbsTyt.js";import{a as b,p as z}from"./auth.csaudZT0.js";const E={name:"AppBar",setup(){const n=b(),s=N({drawer:!1,search:{query:"",results:[],searching:!1,loading:!1}}),p=T(()=>b()),t=z();return{state:s,authData:p,prodStore:t,sign_out:async()=>{await n.logout()},goToCart:()=>{q("/cart")},doSearch:()=>{},toggleSearch:()=>{s.search.searching=!s.search.searching}}}},w=n=>(A("data-v-356db8fb"),n=n(),F(),n),K={id:"appBar"},L=w(()=>f("span",{class:"fw-bold me-4"},"nSight",-1)),O=w(()=>f("span",{class:"fw-bold"},"Shop",-1)),R={class:"fw-bold"},U={key:2,class:"num_count d-flex flex-row justify-center align-center"};function G(n,s,p,t,g,v){const r=V,_=o("v-toolbar-title"),u=o("v-spacer"),C=o("v-text-field"),S=o("v-tooltip"),k=o("font-awesome-icon"),D=o("v-btn"),B=o("v-app-bar");return c(),x("div",K,[t.authData.user?(c(),d(B,{key:0,class:i(t.authData.user.preferences[0].dark_mode?"dark":"")},{default:a(()=>[e(_,null,{default:a(()=>[e(r,{to:"/dashboard",class:i(["text-decoration-none",t.authData.user.preferences[0].dark_mode?"text-white":"text-dark"])},{default:a(()=>[L]),_:1},8,["class"]),e(r,{to:"/shop/products",class:i(["text-decoration-none",t.authData.user.preferences[0].dark_mode?"text-white":"text-dark"])},{default:a(()=>[O]),_:1},8,["class"])]),_:1}),t.state.search.searching?l("",!0):(c(),d(u,{key:0})),t.state.search.searching?(c(),d(C,{key:1,modelValue:t.state.search.query,"onUpdate:modelValue":s[0]||(s[0]=I=>t.state.search.query=I),class:"ctr-search",flat:"",density:"compact","hide-details":"",loading:t.state.search.loading,disabled:t.state.search.loading,placeholder:t.state.search.loading?"Searching...":"Search...",onInput:t.doSearch,onFocusout:t.toggleSearch},null,8,["modelValue","loading","disabled","placeholder","onInput","onFocusout"])):l("",!0),e(k,{icon:["fas","magnifying-glass"],class:"mx-4 btn-search",onClick:t.toggleSearch},{default:a(()=>[e(S,{activator:"parent",location:"bottom","open-delay":"500"},{default:a(()=>[h("Search products, users, and more")]),_:1})]),_:1},8,["onClick"]),e(r,{to:"/account",class:i(["text-decoration-none username",t.authData.user.preferences[0].dark_mode?"text-white":"text-dark"])},{default:a(()=>[f("span",R,m(t.authData.user.first_name),1),e(S,{activator:"parent",location:"bottom","open-delay":"500"},{default:a(()=>[h(m(t.authData.user.email),1)]),_:1})]),_:1},8,["class"]),e(k,{icon:["fas","cart-shopping"],class:"me-4 btn-cart",onClick:t.goToCart},null,8,["onClick"]),t.authData.user&&t.authData.user.cart&&t.prodStore.cart&&t.prodStore.cart.total_items?(c(),x("div",U,m(t.prodStore.cart.total_items),1)):l("",!0),t.authData.loggedIn?(c(),d(D,{key:3,text:"",onClick:t.sign_out},{default:a(()=>[h("Sign Out")]),_:1},8,["onClick"])):l("",!0)]),_:1},8,["class"])):l("",!0)])}const H=y(E,[["render",G],["__scopeId","data-v-356db8fb"]]),J={name:"inner"};function M(n,s,p,t,g,v){const r=H,_=o("v-main"),u=o("v-app");return c(),d(u,null,{default:a(()=>[e(_,null,{default:a(()=>[e(r),j(n.$slots,"default")]),_:3})]),_:3})}const X=y(J,[["render",M]]);export{X as default};
