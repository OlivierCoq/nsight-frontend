import{u as g,n as _,o as l,c as i,a as o,D as d,J as r,v as s,y as f,x as w,E as x}from"./entry.3c5cgt-_.js";import{a as y}from"./auth.yBsjWw8t.js";const b={class:"w-full h-[100vh] bg-zinc-800 dark:bg-black"},v={class:"w-1/2 mx-auto h-100 flex flex-col items-center justify-center"},q=o("img",{src:"https://res.cloudinary.com/nsight/image/upload/v1708400678/n_Sight_logo_dark_dd6d0a819c.jpg",class:"w-100 mt-5 mb-4",alt:"PS/nSight Logo"},null,-1),k={class:"w-3/4 mx-auto mb-4"},S=["disabled"],C={key:0,class:"animate-spin h-5 w-5 mr-3 text-white",viewBox:"0 0 24 24"},B=o("span",{class:"text-center"}," let's get it ",-1),V=g({__name:"index",setup(E){const e=_({input:{email:"",password:"",nsight_id:"",strapi_data:!1},quotes:!1,quote:!1,nsight_ids:!1,errors:[],loading:!1}),u=y(),c=x(),p=()=>{if(e.quotes){let t=Math.floor(Math.random()*e.quotes.data.length);e.quote=e.quotes.data[t]}},m=async()=>{await $fetch(`${c.public.NUXT_STRAPI_URL}/api/quotes?populate=*`,{method:"GET"}).then(t=>{e.quotes=t,p()}).catch(t=>{console.log(t)})},h=async()=>{console.log("Signing in nSight member!"),e.loading=!0,await u.login({identifier:e.input.email,password:e.input.password}).catch(t=>{console.log("err",t),e.errors.push("Incorrect email, username, or password."),e.loading=!1})};return m(),(t,a)=>(l(),i("div",b,[o("div",v,[q,o("div",k,[d(o("input",{type:"email",class:"w-full shadow-xl border-0 rounded-md h-[40px] my-2 px-4","onUpdate:modelValue":a[0]||(a[0]=n=>s(e).input.email=n),placeholder:"Email"},null,512),[[r,s(e).input.email]]),d(o("input",{type:"password",class:"w-full shadow-xl border-0 rounded-md h-[40px] my-2 px-4","onUpdate:modelValue":a[1]||(a[1]=n=>s(e).input.password=n),placeholder:"Password"},null,512),[[r,s(e).input.password]]),o("button",{class:f(["rounded-md shadow-xl w-full flex flex-row text-neutral-800 justify-center nsight-btn-primary my-2 py-2",s(e).loading?"opacity-25":"opacity-1"]),onClick:h,disabled:s(e).loading},[s(e).loading?(l(),i("svg",C)):w("",!0),B],10,S)])])]))}});export{V as default};
