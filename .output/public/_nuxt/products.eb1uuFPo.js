import{p as y}from"./auth.dUEvqXD4.js";import{n as C,D as s,o as c,G as p,w as e,b as o,s as w,F as $,t as v,a as n,c as m,A as V,d as b,y as A,J as D}from"./entry.rB01nS72.js";import{d as F}from"./composables.PaokOPte.js";import{_ as T}from"./_plugin-vue_export-helper.x3n3nnut.js";const E={key:0},G={class:"w-100 d-flex flex-row align-center justify-space-between"},J={style:{"list-style":"none"},class:"p-0 m-0 overflow-hidden"},L=["onClick"],M={key:1,class:"h-100 w-100",style:{"z-index":"2"}},O={class:"d-flex w-100 flex-column"},U={__name:"ProductCard",props:["product"],setup(a){const t=C({product:a.product,show_options:!1,snackbar:!1,snackbar_text:""});y();const u=()=>{t.show_options=!t.show_options},x=r=>{D(`/shop/products/${r}`)},k=r=>{t.product.selected_option=r==t.product.selected_option?null:r},d=()=>{t.loading=!0,t.snackbar_text=`"${t.product.name}" - (${t.product.selected_option.description}) added to cart!`,t.snackbar=!0,t.loading=!1};return(r,i)=>{const g=s("v-img"),f=s("v-spacer"),_=s("font-awesome-icon"),S=s("v-progress-circular"),P=s("v-btn"),z=s("v-snackbar"),B=s("v-card-title"),N=s("v-card-actions"),j=s("v-card");return c(),p(j,{class:"product-card w-100 h-100",variant:"tonal"},{default:e(()=>[o(g,{class:"white--text align-end w-100 product_img",src:a.product.image.url,onClick:i[0]||(i[0]=l=>x(a.product.permalink)),style:{}},null,8,["src"]),n("div",{class:w(["position-relative w-100 height: 80px;",t.show_options?"toggled":""]),style:{"margin-top":"-3rem"}},[o(B,{class:"text-white product_name text-wrap text-right h-100",style:{"position-absolute bottom":"0"}},{default:e(()=>[t.show_options?(c(),m("div",E,[n("div",G,[n("ul",J,[(c(!0),m($,null,V(t.product.variants,l=>(c(),m("li",{key:l.id,class:w(["float-left mx-1 option",t.product.selected_option===l?"option_selected":""])},[n("span",{class:"text-button",onClick:R=>k(l)},v(l.description),9,L)],2))),128))]),o(f),o(_,{icon:["fas","x"],size:"xs",onClick:u,cursor:"pointer"})]),n("div",null,[o(P,{color:"info",block:"",onClick:d,disabled:!t.product.selected_option||t.loading},{default:e(()=>[b(" Add to cart "),t.loading?(c(),p(S,{key:0,indeterminate:"",color:"white",size:"15",class:"mx-2"})):A("",!0)]),_:1},8,["disabled"]),o(z,{modelValue:t.snackbar,"onUpdate:modelValue":i[1]||(i[1]=l=>t.snackbar=l),timeout:3e3,top:!0,right:!0,location:"top","multi-line":!0,vertical:!0,color:"success"},{default:e(()=>[b(v(t.snackbar_text),1)]),_:1},8,["modelValue"])])])):(c(),m("div",M,[o(_,{icon:["fas","heart"],class:"mx-2 btn-like"}),o(_,{icon:["fas","cart-plus"],class:"mx-2 btn-add_to_cart",onClick:u})]))]),_:1})],2),o(N,null,{default:e(()=>[n("div",O,[n("span",null,v(a.product.name),1),n("span",null,v(a.product.price.formatted_with_symbol),1)]),o(f)]),_:1})]),_:1})}}},q={name:"Products",setup(){const a=y(),h=C({});return{definePageMeta:F,state:h,prodStore:a}}},H=n("div",{class:"shop_header d-flex flex-row align-center justify-center p-5 my-5"},[n("h1",{class:"text-center"},"nSight shop")],-1),I=n("hr",{class:"my-5"},null,-1),K={class:"p-5"};function Q(a,h,t,u,x,k){const d=s("v-col"),r=s("v-row"),i=U,g=s("v-progress-circular"),f=s("v-container");return c(),p(r,{id:"products",class:"overflow-auto"},{default:e(()=>[o(d,null,{default:e(()=>[o(f,null,{default:e(()=>[o(r,null,{default:e(()=>[o(d,null,{default:e(()=>[H]),_:1})]),_:1}),I,u.prodStore.products?(c(),p(r,{key:0},{default:e(()=>[(c(!0),m($,null,V(u.prodStore.products.data,_=>(c(),p(d,{key:_.id,cols:"12",md:"6",lg:"3",xl:"2"},{default:e(()=>[o(i,{product:_},null,8,["product"])]),_:2},1024))),128))]),_:1})):(c(),p(r,{key:1},{default:e(()=>[o(d,null,{default:e(()=>[n("div",K,[o(g,{indeterminate:"",color:"primary"})])]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})}const tt=T(q,[["render",Q]]);export{tt as default};
