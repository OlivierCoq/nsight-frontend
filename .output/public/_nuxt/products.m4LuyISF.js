import{p as y}from"./auth.mQ8edLOI.js";import{n as C,q as s,o as c,s as p,w as e,b as o,u as w,F as $,t as v,a as n,c as m,x as V,d as b,v as F,G as M,_ as T,N as q}from"./entry.edFZpnpL.js";import{d as A}from"./composables.PaokOPte.js";const D={key:0},E={class:"w-100 d-flex flex-row align-center justify-space-between"},G={style:{"list-style":"none"},class:"p-0 m-0 overflow-hidden"},L=["onClick"],O={key:1,class:"h-100 w-100",style:{"z-index":"2"}},U={class:"d-flex w-100 flex-column"},H={__name:"ProductCard",props:["product"],setup(r){const t=C({product:r.product,show_options:!1,snackbar:!1,snackbar_text:""});y();const u=()=>{t.show_options=!t.show_options},g=a=>{M(`/shop/products/${a}`)},k=a=>{t.product.selected_option=a==t.product.selected_option?null:a},d=()=>{t.loading=!0,t.snackbar_text=`"${t.product.name}" - (${t.product.selected_option.description}) added to cart!`,t.snackbar=!0,t.loading=!1};return(a,i)=>{const x=s("v-img"),f=s("v-spacer"),_=s("font-awesome-icon"),S=s("v-progress-circular"),B=s("v-btn"),N=s("v-snackbar"),P=s("v-card-title"),z=s("v-card-actions"),j=s("v-card");return c(),p(j,{class:"product-card w-100 h-100",variant:"tonal"},{default:e(()=>[o(x,{class:"white--text align-end w-100 product_img",src:r.product.image.url,onClick:i[0]||(i[0]=l=>g(r.product.permalink)),style:{}},null,8,["src"]),n("div",{class:w(["position-relative w-100 height: 80px;",t.show_options?"toggled":""]),style:{"margin-top":"-3rem"}},[o(P,{class:"text-white product_name text-wrap text-right h-100",style:{"position-absolute bottom":"0"}},{default:e(()=>[t.show_options?(c(),m("div",D,[n("div",E,[n("ul",G,[(c(!0),m($,null,V(t.product.variants,l=>(c(),m("li",{key:l.id,class:w(["float-left mx-1 option",t.product.selected_option===l?"option_selected":""])},[n("span",{class:"text-button",onClick:W=>k(l)},v(l.description),9,L)],2))),128))]),o(f),o(_,{icon:["fas","x"],size:"xs",onClick:u,cursor:"pointer"})]),n("div",null,[o(B,{color:"info",block:"",onClick:d,disabled:!t.product.selected_option||t.loading},{default:e(()=>[b(" Add to cart "),t.loading?(c(),p(S,{key:0,indeterminate:"",color:"white",size:"15",class:"mx-2"})):F("",!0)]),_:1},8,["disabled"]),o(N,{modelValue:t.snackbar,"onUpdate:modelValue":i[1]||(i[1]=l=>t.snackbar=l),timeout:3e3,top:!0,right:!0,location:"top","multi-line":!0,vertical:!0,color:"success"},{default:e(()=>[b(v(t.snackbar_text),1)]),_:1},8,["modelValue"])])])):(c(),m("div",O,[o(_,{icon:["fas","heart"],class:"mx-2 btn-like"}),o(_,{icon:["fas","cart-plus"],class:"mx-2 btn-add_to_cart",onClick:u})]))]),_:1})],2),o(z,null,{default:e(()=>[n("div",U,[n("span",null,v(r.product.name),1),n("span",null,v(r.product.price.formatted_with_symbol),1)]),o(f)]),_:1})]),_:1})}}},I={name:"Products",setup(){const r=y(),h=C({});return q(()=>{}),{definePageMeta:A,state:h,prodStore:r}}},J=n("div",{class:"shop_header d-flex flex-row align-center justify-center p-5 my-5"},[n("h1",{class:"text-center"},"nSight shop")],-1),K=n("hr",{class:"my-5"},null,-1),Q={class:"p-5"};function R(r,h,t,u,g,k){const d=s("v-col"),a=s("v-row"),i=H,x=s("v-progress-circular"),f=s("v-container");return c(),p(a,{id:"products",class:"overflow-auto"},{default:e(()=>[o(d,null,{default:e(()=>[o(f,null,{default:e(()=>[o(a,null,{default:e(()=>[o(d,null,{default:e(()=>[J]),_:1})]),_:1}),K,u.prodStore.products?(c(),p(a,{key:0},{default:e(()=>[(c(!0),m($,null,V(u.prodStore.products.data,_=>(c(),p(d,{key:_.id,cols:"12",md:"6",lg:"3",xl:"2"},{default:e(()=>[o(i,{product:_},null,8,["product"])]),_:2},1024))),128))]),_:1})):(c(),p(a,{key:1},{default:e(()=>[o(d,null,{default:e(()=>[n("div",Q,[o(x,{indeterminate:"",color:"primary"})])]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})}const tt=T(I,[["render",R]]);export{tt as default};
